{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nconst gallery = document.querySelector('.gallery');\nconst searchInput = document.querySelector('input');\nconst searchButton = document.querySelector('button');\n\nfunction getImages(event) {\n  event.preventDefault();\n\n  const loaderContainer = document.querySelector('.loader');\n  loaderContainer.style.display = 'block';\n\n  const API_KEY = '42796479-140a0b0d57e5aafe2bfea6b1d';\n  const BASE_URL = 'https://pixabay.com/api/';\n  const QUERY = searchInput.value.trim();\n  const IMAGE_TYPE = 'photo';\n  const ORIENTATION = 'horizontal';\n  const SAFESEARCH = 'true';\n\n  return fetch(\n    `${BASE_URL}?key=${API_KEY}&q=${QUERY}&image_type=${IMAGE_TYPE}&orientation=${ORIENTATION}&safesearch=${SAFESEARCH}`\n  )\n    .then(response => response.json())\n    .then(data => {\n      const images = data.hits;\n      // Проверка на отсутствие картинок\n      if (!Array.isArray(images) || QUERY.length === 0) {\n        iziToast.error({\n          message:\n            'Sorry, there are no images matching your search query. Please try again!',\n          position: 'topRight',\n          color: '#ef4040',\n          messageColor: '#fff',\n        });\n        gallery.innerHTML = '';\n        return;\n      }\n\n      const imageHTML = images\n        .map(\n          ({\n            webformatURL,\n            largeImageURL,\n            tags,\n            likes,\n            downloads,\n            comments,\n            views,\n          }) => {\n            return `<li class=\"gallery-item\">\n              <a href=\"${largeImageURL}\" class=\"gallery-link\"><img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" data-source=\"${largeImageURL}\" title=\"${tags}\" /></a>\n              <div class=\"activity\">\n              <h3>Likes<p class=\"activity-item\">${likes}</p></h3>\n              <h3>Views<p class=\"activity-item\">${views}</p></h3>\n              <h3>Comments<p class=\"activity-item\">${comments}</p></h3>\n              <h3>Downloads<p class=\"activity-item\">${downloads}</p></div></h3>\n          </li>`;\n          }\n        )\n        .join('');\n\n      gallery.innerHTML = imageHTML;\n      let lightbox = new SimpleLightbox('.gallery a');\n      loaderContainer.style.display = 'none';\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error('Error fetching images:', error);\n      iziToast.error({\n        title: 'Ошибка',\n        message: 'Не удалось получить картинки. Попробуйте позже.',\n        position: 'topRight',\n      });\n\n      loaderContainer.style.display = 'none';\n    });\n}\n\nsearchButton.addEventListener('click', getImages);\n"],"names":["gallery","searchInput","searchButton","getImages","event","loaderContainer","API_KEY","BASE_URL","QUERY","response","data","images","iziToast","imageHTML","webformatURL","largeImageURL","tags","likes","downloads","comments","views","lightbox","SimpleLightbox","error"],"mappings":"6vBAMA,MAAMA,EAAU,SAAS,cAAc,UAAU,EAC3CC,EAAc,SAAS,cAAc,OAAO,EAC5CC,EAAe,SAAS,cAAc,QAAQ,EAEpD,SAASC,EAAUC,EAAO,CACxBA,EAAM,eAAc,EAEpB,MAAMC,EAAkB,SAAS,cAAc,SAAS,EACxDA,EAAgB,MAAM,QAAU,QAEhC,MAAMC,EAAU,qCACVC,EAAW,2BACXC,EAAQP,EAAY,MAAM,KAAI,EAKpC,OAAO,MACL,GAAGM,CAAQ,QAAQD,CAAO,MAAME,CAAK,0DACtC,EACE,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,MAAMC,EAASD,EAAK,KAEpB,GAAI,CAAC,MAAM,QAAQC,CAAM,GAAKH,EAAM,SAAW,EAAG,CAChDI,EAAS,MAAM,CACb,QACE,2EACF,SAAU,WACV,MAAO,UACP,aAAc,MACxB,CAAS,EACDZ,EAAQ,UAAY,GACpB,MACD,CAED,MAAMa,EAAYF,EACf,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,UAAAC,EACA,SAAAC,EACA,MAAAC,CACZ,IACmB;AAAA,yBACML,CAAa,wDAAwDD,CAAY,UAAUE,CAAI,kBAAkBD,CAAa,YAAYC,CAAI;AAAA;AAAA,kDAErHC,CAAK;AAAA,kDACLG,CAAK;AAAA,qDACFD,CAAQ;AAAA,sDACPD,CAAS;AAAA,gBAGtD,EACA,KAAK,EAAE,EAEVlB,EAAQ,UAAYa,EACpB,IAAIQ,EAAW,IAAIC,EAAe,YAAY,EAC9CjB,EAAgB,MAAM,QAAU,OAChCgB,EAAS,QAAO,CACtB,CAAK,EACA,MAAME,GAAS,CACd,QAAQ,MAAM,yBAA0BA,CAAK,EAC7CX,EAAS,MAAM,CACb,MAAO,SACP,QAAS,kDACT,SAAU,UAClB,CAAO,EAEDP,EAAgB,MAAM,QAAU,MACtC,CAAK,CACL,CAEAH,EAAa,iBAAiB,QAASC,CAAS"}